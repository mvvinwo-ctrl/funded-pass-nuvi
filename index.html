<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üöÄ Funded Pass Nuvi ‚Äì $10 Start</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* ‚Äî‚Äî‚Äî PROFESSIONAL LIGHT TRADER THEME ‚Äî‚Äî‚Äî */
      --bg: #f8fafc;
      --surface-1: #f1f5f9;
      --surface-2: #e2e8f0;
      --surface-3: #cbd5e1;
      --text: #1e293b;
      --text-secondary: #475569;
      --text-tertiary: #64748b;
      --primary: #4f46e5; /* Deep indigo */
      --primary-light: #6366f1;
      --success: #10b981;
      --success-bg: rgba(16, 185, 129, 0.1);
      --warning: #f59e0b;
      --danger: #ef4444;
      --neutral: #94a3b8;
      --border: #cbd5e1;
      --shadow-1: 0 4px 12px rgba(0, 0, 0, 0.04);
      --shadow-2: 0 6px 20px rgba(0, 0, 0, 0.06);
      --glow-primary: 0 0 0 2px rgba(79, 70, 229, 0.25);
      --radius: 16px;
      --transition: all 0.3s cubic-bezier(0.2, 0, 0.2, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      padding: 28px;
      line-height: 1.5;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    /* ‚Äî‚Äî‚Äî HEADER ‚Äî‚Äî‚Äî */
    .app-header {
      background: var(--surface-1);
      border-radius: var(--radius);
      padding: 40px;
      margin-bottom: 36px;
      box-shadow: var(--shadow-1);
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }

    .app-header::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), #7c3aed, #ec4899);
    }

    .logo {
      font-size: 2.6rem;
      font-weight: 700;
      margin-bottom: 12px;
      background: linear-gradient(90deg, var(--primary), #7c3aed, #c084fc);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: -0.5px;
    }

    .tagline {
      font-size: 1.15rem;
      color: var(--text-secondary);
      max-width: 650px;
      font-weight: 400;
      line-height: 1.6;
    }

    /* ‚Äî‚Äî‚Äî GLOBAL CONTROLS ‚Äî‚Äî‚Äî */
    .global-controls {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
      padding: 24px;
      background: var(--surface-1);
      border-radius: var(--radius);
      margin-bottom: 36px;
      box-shadow: var(--shadow-1);
      border: 1px solid var(--border);
      align-items: center;
    }

    .input-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .input-label {
      font-size: 0.85rem;
      color: var(--text-tertiary);
      font-weight: 500;
    }

    .form-control {
      padding: 14px 18px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: white;
      color: var(--text);
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      min-width: 180px;
      transition: var(--transition);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: var(--glow-primary);
    }

    .btn {
      padding: 14px 28px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: var(--transition);
      border: none;
      font-family: 'Inter', sans-serif;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: #4338ca;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(79, 70, 229, 0.25);
    }

    /* ‚Äî‚Äî‚Äî SECTIONS ‚Äî‚Äî‚Äî */
    .section {
      margin-bottom: 40px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .section-title {
      font-size: 1.45rem;
      font-weight: 700;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-title i {
      color: var(--primary);
    }

    /* ‚Äî‚Äî‚Äî CLIENT CARD ‚Äî‚Äî‚Äî */
    .client-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
      gap: 28px;
    }

    .client-card {
      background: white;
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: var(--shadow-1);
      border: 1px solid var(--border);
      transition: var(--transition);
    }

    .client-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-2);
      border-color: var(--primary-light);
    }

    .client-name {
      font-size: 1.35rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      margin: 20px 0;
    }

    .stat-card {
      background: var(--surface-1);
      padding: 16px 12px;
      border-radius: 12px;
      text-align: center;
      border: 1px solid var(--border);
    }

    .stat-label {
      font-size: 0.8rem;
      color: var(--text-tertiary);
      margin-bottom: 6px;
    }

    .stat-value {
      font-size: 1.15rem;
      font-weight: 600;
      font-family: 'IBM Plex Mono', monospace;
    }

    .stat-achieved .stat-value { color: var(--success); }
    .stat-profit .stat-value { color: var(--warning); }
    .stat-balance .stat-value { color: var(--primary-light); }

    .trade-form {
      display: flex;
      gap: 14px;
      margin: 22px 0;
      flex-wrap: wrap;
    }

    .trade-form .form-control {
      flex: 1;
      min-width: 130px;
    }

    .action-row {
      display: flex;
      gap: 14px;
      margin-top: 18px;
      flex-wrap: wrap;
    }

    .btn-unlock {
      background: rgba(79, 70, 229, 0.08);
      color: var(--primary-light);
      padding: 14px 20px;
    }

    .btn-unlock:hover {
      background: rgba(79, 70, 229, 0.15);
    }

    .performance-table {
      width: 100%;
      margin-top: 24px;
      border-collapse: collapse;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 0.92rem;
    }

    .performance-table th {
      text-align: left;
      padding: 12px 14px;
      background: var(--surface-1);
      color: var(--text-tertiary);
      font-weight: 600;
      border-bottom: 1px solid var(--border);
    }

    .performance-table td {
      padding: 12px 14px;
      border-bottom: 1px solid var(--border);
      color: var(--text);
    }

    .performance-table tr:last-child td {
      border-bottom: none;
    }

    .day-col { width: 70px; font-weight: 600; }
    .balance-col { color: var(--primary-light); font-weight: 600; }
    .target-col { color: var(--warning); }
    .expected-col { color: #7c3aed; }
    .status-col { text-align: center; width: 90px; }

    .status-yes { color: var(--success); font-weight: 600; }
    .status-no { color: var(--danger); }

    /* ‚Äî‚Äî‚Äî LEADERBOARD ‚Äî‚Äî‚Äî */
    .leaderboard {
      background: white;
      border-radius: var(--radius);
      padding: 28px;
      box-shadow: var(--shadow-1);
      border: 1px solid var(--border);
    }

    .leaderboard-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .leader-item {
      display: flex;
      align-items: center;
      padding: 20px;
      background: var(--surface-1);
      border-radius: 14px;
      transition: var(--transition);
    }

    .leader-item:hover {
      background: rgba(79, 70, 229, 0.04);
      border-left: 3px solid var(--primary);
    }

    .rank {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.1rem;
      margin-right: 20px;
      flex-shrink: 0;
      background: var(--surface-2);
      color: var(--text);
    }

    .rank-1 { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #000; }
    .rank-2 { background: linear-gradient(135deg, #cbd5e1, #94a3b8); color: #000; }
    .rank-3 { background: linear-gradient(135deg, #a78bfa, #7c3aed); color: white; }

    .leader-info {
      flex-grow: 1;
    }

    .leader-name {
      font-weight: 600;
      font-size: 1.15rem;
      margin-bottom: 4px;
      color: var(--text);
    }

    .leader-stats {
      display: flex;
      gap: 24px;
      font-size: 0.95rem;
    }

    .stat-item {
      display: flex;
      flex-direction: column;
    }

    .stat-desc {
      color: var(--text-tertiary);
      font-size: 0.85rem;
    }

    .stat-data {
      font-weight: 600;
      margin-top: 3px;
      font-family: 'IBM Plex Mono', monospace;
    }

    .stat-days .stat-data { color: var(--success); }
    .stat-balance .stat-data { color: var(--primary-light); }

    /* ‚Äî‚Äî‚Äî ALERT ‚Äî‚Äî‚Äî */
    #alert {
      padding: 16px 24px;
      border-radius: 12px;
      margin-bottom: 28px;
      font-weight: 500;
      display: none;
      background: var(--surface-1);
      border-left: 4px solid var(--primary);
      box-shadow: var(--shadow-1);
    }

    .alert-success { border-left-color: var(--success); }
    .alert-error { border-left-color: var(--danger); }

    /* ‚Äî‚Äî‚Äî RESPONSIVE ‚Äî‚Äî‚Äî */
    @media (max-width: 768px) {
      .global-controls, .trade-form, .action-row {
        flex-direction: column;
      }
      .stats-grid {
        grid-template-columns: 1fr;
      }
      .client-grid {
        grid-template-columns: 1fr;
      }
      .leader-stats {
        flex-direction: column;
        gap: 10px;
      }
      .app-header {
        padding: 30px 20px;
      }
      .logo { font-size: 2.2rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="app-header">
      <h1 class="logo">üöÄ Funded Pass Nuvi</h1>
      <p class="tagline">Elite trader progression tracking ‚Äî starting at just $10. Monitor daily targets, unlock performance, and scale with confidence.</p>
    </div>

    <div id="alert"></div>

    <div class="global-controls">
      <div class="input-group">
        <label class="input-label">Client Name</label>
        <input type="text" id="newClientName" class="form-control" placeholder="e.g., Hassan" />
      </div>
      <div class="input-group">
        <label class="input-label">4-Digit PIN</label>
        <input type="password" id="newClientPin" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4" />
      </div>
      <button class="btn btn-primary" onclick="window.addClient && addClient()">
        <i class="fas fa-user-plus"></i> Add New Trader
      </button>
    </div>

    <div class="section">
      <div class="section-header">
        <h2 class="section-title"><i class="fas fa-users"></i> All Traders</h2>
      </div>
      <div class="client-grid" id="clientList"></div>
    </div>

    <div class="section">
      <div class="section-header">
        <h2 class="section-title"><i class="fas fa-trophy"></i> Performance Leaderboard</h2>
      </div>
      <div class="leaderboard">
        <div class="leaderboard-list" id="leaderboard"></div>
      </div>
    </div>
  </div>

  <script>
    (function initApp() {
      if (typeof window.supabase === 'undefined') {
        return setTimeout(initApp, 100);
      }

      const { createClient } = window.supabase;
      const supabase = createClient(
        'https://atidhrwcxwdbkflswczg.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF0aWRocndjeHdkYmtmbHN3Y3pnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNjI0MzUsImV4cCI6MjA3NzkzODQzNX0.86VbmBvTGNvg6dnb-hJ0J--StOMtkJziZ6vHaxHull4'
      );

      window.supabaseClient = supabase;

      const targets = [
        { day: 1, target: 2.50, expected: 12.50 },
        { day: 2, target: 3.13, expected: 15.63 },
        { day: 3, target: 3.90, expected: 19.53 },
        { day: 4, target: 4.88, expected: 24.41 },
        { day: 5, target: 6.10, expected: 30.51 },
        { day: 6, target: 7.63, expected: 38.14 },
        { day: 7, target: 9.54, expected: 47.68 },
        { day: 8, target: 11.92, expected: 59.60 },
        { day: 9, target: 14.90, expected: 74.50 },
        { day: 10, target: 18.63, expected: 93.13 },
        { day: 11, target: 23.28, expected: 116.41 },
        { day: 12, target: 29.10, expected: 145.57 },
        { day: 13, target: 36.39, expected: 181.96 },
        { day: 14, target: 45.49, expected: 227.45 },
        { day: 15, target: 56.86, expected: 284.31 },
        { day: 16, target: 71.08, expected: 355.39 },
        { day: 17, target: 88.85, expected: 444.24 },
        { day: 18, target: 111.06, expected: 555.30 },
        { day: 19, target: 138.83, expected: 694.13 },
        { day: 20, target: 173.53, expected: 867.66 },
        { day: 21, target: 216.93, expected: 1084.54 },
        { day: 22, target: 271.15, expected: 1355.73 },
        { day: 23, target: 338.93, expected: 1694.66 },
        { day: 24, target: 423.67, expected: 2118.33 },
        { day: 25, target: 529.58, expected: 2647.91 },
        { day: 26, target: 661.98, expected: 3309.89 },
        { day: 27, target: 827.47, expected: 4137.36 },
        { day: 28, target: 1034.34, expected: 5171.70 },
        { day: 29, target: 1292.93, expected: 6464.63 },
        { day: 30, target: 1616.60, expected: 8080.79 }
      ];

      let teamData = { clients: [] };
      const unlockedClients = new Set();

      function computeFinalBalance(records) {
        let balance = 10;
        const recordMap = {};
        records.forEach(r => recordMap[r.day] = r);
        for (let d = 1; d <= 30; d++) {
          if (recordMap[d]) balance += recordMap[d].profit;
        }
        return balance;
      }

      async function loadTeamData() {
        try {
          const { data: clients, error: clientError } = await supabase
            .from('clients')
            .select('*')
            .order('created_at', { ascending: true });

          if (clientError) throw clientError;

          const loadedClients = [];
          for (const client of clients) {
            const { data: records, error: recordError } = await supabase
              .from('records')
              .select('day, profit')
              .eq('client_id', client.id)
              .order('day', { ascending: true });

            if (recordError) console.warn(`Records load failed for ${client.name}:`, recordError);

            loadedClients.push({
              id: client.id,
              name: client.name,
              pin: client.pin,
              records: records || []
            });
          }

          teamData = { clients: loadedClients };
          renderClientList();
          renderLeaderboard();
        } catch (err) {
          console.error('Load error:', err);
          showAlert(`‚ö†Ô∏è Load failed: ${err.message}`, "error");
        }
      }

      async function addClient() {
        const name = document.getElementById('newClientName').value.trim();
        const pin = document.getElementById('newClientPin').value.trim();

        if (!name) return showAlert("‚ö†Ô∏è Please enter a client name", "error");
        if (!/^\d{4}$/.test(pin)) return showAlert("‚ö†Ô∏è PIN must be exactly 4 digits", "error");

        showAlert("‚è≥ Adding new trader...", "info");

        try {
          const { data, error } = await supabase
            .from('clients')
            .insert({ name, pin })
            .select();

          if (error) throw error;
          if (!data || data.length === 0) throw new Error("No client returned");

          const newClient = data[0];
          teamData.clients.push({
            id: newClient.id,
            name: newClient.name,
            pin: newClient.pin,
            records: []
          });

          renderClientList();
          renderLeaderboard();
          document.getElementById('newClientName').value = "";
          document.getElementById('newClientPin').value = "";
          showAlert(`‚úÖ Trader "${name}" added successfully!`, "success");
        } catch (err) {
          console.error('Add client error:', err);
          showAlert(`‚ùå ${err.message || 'Failed to add trader'}`, "error");
        }
      }

      function unlockClient(clientId) {
        const client = teamData.clients.find(c => c.id === clientId);
        const pin = document.getElementById(`pin-${clientId}`).value;
        if (pin !== client.pin) return showAlert("‚ùå Incorrect PIN. Access denied.", "error");
        unlockedClients.add(clientId);
        renderClientList();
        showAlert("‚úÖ Trader unlocked. Ready to log performance.", "success");
      }

      async function logTradeForClient(clientId) {
        const client = teamData.clients.find(c => c.id === clientId);
        if (!client || !unlockedClients.has(clientId)) return showAlert("üîí Please unlock this trader first.", "error");

        const dayEl = document.querySelector(`.day-select[data-client="${clientId}"]`);
        const profitEl = document.querySelector(`.profit-input[data-client="${clientId}"]`);
        const day = parseInt(dayEl?.value);
        const profit = parseFloat(profitEl?.value);

        if (!day || day < 1 || day > 30) return showAlert("‚ö†Ô∏è Day must be between 1 and 30.", "error");
        if (isNaN(profit) || profit < 0) return showAlert("‚ö†Ô∏è Please enter a valid profit amount (‚â• 0).", "error");

        const idx = client.records.findIndex(r => r.day === day);
        if (idx !== -1) {
          client.records[idx].profit = profit;
        } else {
          client.records.push({ day, profit });
          client.records.sort((a, b) => a.day - b.day);
        }

        try {
          const { data: existing } = await supabase
            .from('records')
            .select('id')
            .eq('client_id', clientId)
            .eq('day', day)
            .maybeSingle();

          let saveResult;
          if (existing) {
            saveResult = await supabase
              .from('records')
              .update({ profit })
              .eq('id', existing.id);
          } else {
            saveResult = await supabase
              .from('records')
              .insert({ client_id: clientId, day, profit });
          }

          if (saveResult.error) throw saveResult.error;

          renderClientList();
          renderLeaderboard();
          showAlert(`‚úÖ Day ${day} performance logged successfully!`, "success");
          if (dayEl) dayEl.value = "";
          if (profitEl) profitEl.value = "";
        } catch (err) {
          console.error('Save error:', err);
          showAlert(`‚ùå Failed to save: ${err.message}`, "error");
        }
      }

      function renderClientList() {
        const clientList = document.getElementById('clientList');
        clientList.innerHTML = '';

        teamData.clients.forEach(client => {
          const isUnlocked = unlockedClients.has(client.id);
          const recordMap = {};
          client.records.forEach(r => recordMap[r.day] = r);

          const dailyBalances = {};
          let balance = 10;
          for (let d = 1; d <= 30; d++) {
            if (recordMap[d]) balance += recordMap[d].profit;
            dailyBalances[d] = balance;
          }

          const achievedCount = client.records.filter(r => {
            const t = targets.find(x => x.day === r.day);
            return t && r.profit >= t.target;
          }).length;

          const totalProfit = client.records.reduce((sum, r) => sum + r.profit, 0);
          const finalBalance = dailyBalances[30];

          let performanceTable = '';
          if (isUnlocked) {
            let rows = '';
            targets.forEach(t => {
              const achieved = client.records.some(r => r.day === t.day && r.profit >= t.target);
              rows += `
                <tr>
                  <td class="day-col">${t.day}</td>
                  <td class="balance-col">$${dailyBalances[t.day].toFixed(2)}</td>
                  <td class="target-col">$${t.target.toFixed(2)}</td>
                  <td class="expected-col">$${t.expected.toFixed(2)}</td>
                  <td class="status-col">${achieved ? '<span class="status-yes">‚úì Achieved</span>' : '<span class="status-no">‚úó Missed</span>'}</td>
                </tr>
              `;
            });
            performanceTable = `
              <table class="performance-table">
                <thead>
                  <tr>
                    <th>Day</th>
                    <th>Balance</th>
                    <th>Target</th>
                    <th>Expected</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${rows}
                </tbody>
              </table>
            `;
          }

          const card = document.createElement('div');
          card.className = 'client-card';
          card.innerHTML = `
            <div class="client-name">
              <i class="fas fa-user-circle"></i> ${client.name}
            </div>
            <div class="stats-grid">
              <div class="stat-card stat-achieved">
                <div class="stat-label">ACHIEVED DAYS</div>
                <div class="stat-value">${achievedCount}/30</div>
              </div>
              <div class="stat-card stat-profit">
                <div class="stat-label">TOTAL PROFIT</div>
                <div class="stat-value">$${totalProfit.toFixed(2)}</div>
              </div>
              <div class="stat-card stat-balance">
                <div class="stat-label">FINAL BALANCE</div>
                <div class="stat-value">$${finalBalance.toFixed(2)}</div>
              </div>
            </div>
            <div class="trade-form">
              <select class="form-control day-select" data-client="${client.id}" ${isUnlocked ? '' : 'disabled'}>
                <option value="">Select Day</option>
                ${targets.map(t => `<option value="${t.day}">Day ${t.day}</option>`).join('')}
              </select>
              <input type="number" step="0.01" class="form-control profit-input" data-client="${client.id}" placeholder="Profit ($)" ${isUnlocked ? '' : 'disabled'}/>
              <button class="btn btn-primary" onclick="logTradeForClient('${client.id}')" ${isUnlocked ? '' : 'disabled'}>
                <i class="fas fa-chart-line"></i> Log
              </button>
            </div>
            <div class="action-row">
              <input type="password" id="pin-${client.id}" class="form-control" placeholder="Enter 4-digit PIN" maxlength="4"/>
              <button class="btn btn-unlock" onclick="unlockClient('${client.id}')">
                <i class="fas fa-lock-open"></i> Unlock Trader
              </button>
            </div>
            ${performanceTable ? `<div class="performance-section">${performanceTable}</div>` : ''}
          `;
          clientList.appendChild(card);
        });
      }

      function renderLeaderboard() {
        const lb = document.getElementById('leaderboard');
        lb.innerHTML = '';

        const clientsWithBalance = teamData.clients.map(client => {
          const balance = computeFinalBalance(client.records);
          const achieved = client.records.filter(r => {
            const t = targets.find(x => x.day === r.day);
            return t && r.profit >= t.target;
          }).length;
          return { ...client, finalBalance: balance, achieved };
        });

        clientsWithBalance.sort((a, b) => {
          if (b.finalBalance !== a.finalBalance) return b.finalBalance - a.finalBalance;
          return b.achieved - a.achieved;
        });

        if (clientsWithBalance.length === 0) {
          lb.innerHTML = `<div style="text-align:center;color:var(--text-tertiary);padding:30px;font-style:italic;">No traders yet</div>`;
          return;
        }

        clientsWithBalance.forEach((c, i) => {
          const rankClass = i === 0 ? 'rank-1' : i === 1 ? 'rank-2' : i === 2 ? 'rank-3' : '';
          const rankText = i < 3 ? '' : i + 1;
          lb.innerHTML += `
            <div class="leader-item">
              <div class="rank ${rankClass}">${i < 3 ? ['1','2','3'][i] : rankText}</div>
              <div class="leader-info">
                <div class="leader-name">${c.name}</div>
                <div class="leader-stats">
                  <div class="stat-item stat-days">
                    <div class="stat-desc">Achieved Days</div>
                    <div class="stat-data">${c.achieved}/30</div>
                  </div>
                  <div class="stat-item stat-balance">
                    <div class="stat-desc">Final Balance</div>
                    <div class="stat-data">$${c.finalBalance.toFixed(2)}</div>
                  </div>
                </div>
              </div>
            </div>
          `;
        });
      }

      function showAlert(message, type) {
        const el = document.getElementById('alert');
        el.textContent = message;
        el.className = `alert alert-${type}`;
        el.style.display = 'block';
        setTimeout(() => el.style.display = 'none', 6000);
      }

      window.addClient = addClient;
      window.unlockClient = unlockClient;
      window.logTradeForClient = logTradeForClient;

      loadTeamData();
    })();
  </script>
</body>
</html>
